<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>DatePicker Demo</title>
    <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../node_modules/lit/polyfill-support.js"></script>
    <script type="module" src="../date-picker.js"></script>
    <style>
      #root {
        position: fixed;
        inset: 0;
        padding-block-start: 10vh;
        background-image: linear-gradient(
          to bottom,
          hsl(14, 100%, 5%) 50%,
          rgb(15, 88, 214) 100%
        );
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }
      h1,
      h4 {
        color: rgb(15, 88, 214);
        margin-block-start: 2rem;
        text-align: center;
      }
      date-picker {
        margin-inline: auto;
      }
    </style>
    <script>
      onload = () => {
        const myElement = document.querySelector('date-picker')
        myElement.date = new Date()
        const options = {
          weekday: 'long',
          year: 'numeric',
          month: 'short',
          day: 'numeric',
        }
        myElement.addEventListener('selected-date-changed', (e) => {
          const selectedDay = document.querySelector('#selectedday')
          selectedDay.innerText = e.detail.toLocaleDateString('en-us', options)
          Object.assign(selectedDay.style, {
            opacity: 0,
            transition: 'none',
          })
          setTimeout(() => {
            Object.assign(selectedDay.style, {
              opacity: 1,
              transition: 'all 1s ease-in-out',
            })
          })
        })
        myElement.addEventListener('selected-date-range-changed', (e) => {
          const selectedDateRange = document.querySelector('#selected-range')
          selectedDateRange.innerHTML = `{ ${e.detail.start.toLocaleDateString(
            'en-us',
            options
          )} â€“ ${e.detail.end.toLocaleDateString(
            'en-us',
            options
          )} }<br>Days: ${e.detail.days}`
          Object.assign(selectedDateRange.style, {
            opacity: 0,
            transition: 'none',
          })
          setTimeout(() => {
            Object.assign(selectedDateRange.style, {
              opacity: 1,
              transition: 'all 1s ease-in-out',
            })
          })
        })
      }
    </script>
  </head>
  <body>
    <div id="root"
      ><date-picker date="2022,11,02" range></date-picker>
      <h1 id="selectedday"></h1><h4 id="selected-range"></h4
    ></div>
  </body>
</html>
