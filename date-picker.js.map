{"version":3,"file":"date-picker.js","sourceRoot":"","sources":["src/date-picker.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, css, PropertyValues } from 'lit'\nimport { customElement, property, state } from 'lit/decorators.js'\nimport { repeat } from 'lit/directives/repeat.js'\n\n/**\n * An example element.\n *\n * @fires count-changed - Indicates when the count changes\n * @slot - This element has a slot\n * @csspart button - The button\n */\n@customElement('date-picker')\nexport class DatePicker extends LitElement {\n  static override styles = css`\n    :host {\n      display: block;\n      border: solid 1px gray;\n      padding: 16px;\n      max-width: 25em;\n      font-size: 0.7rem;\n      font-family: Helvetica, sans-serif;\n      box-sizing: border-box;\n    }\n    .grid {\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n      gap: 0em;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n    }\n    .weekdays > li {\n        display: grid;\n        place-items: center;\n        margin-block-end: 0.5em;\n        font-weight: bold;\n        color: #999;\n        &:empty {\n          border: 1px solid #ddd;\n          background-color: #efefef;\n        }\n      }\n    .calendar > li {\n        aspect-ratio: 1;\n        outline: solid 1px #ccc;\n        background-color: #fff;\n        display: grid;\n        place-items: center;\n        font-size: 1.2em;\n        cursor: pointer;\n        &:empty {\n          outline: 1px solid #ddd;\n          background-color: #efefef;\n        }\n        &.prevmonth, &.nextmonth {\n          color: #999;\n        }\n        &:hover {\n          background-color: #def;\n        }\n      }\n      .calendar-head {\n        display: grid;\n        grid-template-columns: min-content auto min-content;\n        gap: 0em;\n        padding: 0;\n        margin: 0;\n        font-size: 1.2em;\n        & h4 {\n          text-align: center;\n          margin: 0;\n          padding: 0;\n        }\n      }\n    }\n  `\n\n  @state()\n  numberOfDays = 0\n\n  @property({ type: Object, reflect: true })\n  date = new Date()\n\n  /**\n   * The number of times the button has been clicked.\n   */\n  @property({ type: Number })\n  count = 0\n\n  override willUpdate(changedProperties: PropertyValues<this>) {\n    // only need to check changed properties for an expensive computation.\n    if (changedProperties.has('date')) {\n      // calculate month with days for the app.\n      console.log('changedProperties', changedProperties)\n      this.numberOfDays = new Date(\n        this.date.getFullYear(),\n        this.date.getMonth() + 1,\n        0\n      ).getDate()\n    }\n  }\n\n  override render() {\n    return html`\n      <div class=\"calendar-head\">\n        <div class=\"calendar-head__back\">&lt;</div>\n\n        <h4\n          >${this.date.toLocaleString('en-us', {\n            month: 'long',\n          })}\n          ${this.date.getFullYear()}</h4\n        >\n        <div class=\"calendar-head__fwd\">&gt;</div>\n      </div>\n      <p\n        >Days in\n        ${this.date.toLocaleString('default', {\n          month: 'long',\n        })}:\n        ${this.numberOfDays}</p\n      >\n      <p\n        >First of the month occurs on a:\n        ${new Date(\n          this.date.getFullYear(),\n          this.date.getMonth(),\n          1\n        ).toLocaleString('default', {\n          weekday: 'long',\n        })}\n        = ${new Date(this.date.getFullYear(), this.date.getMonth(), 1).getDay()}\n      </p>\n      <ul class=\"weekdays grid\">\n        ${repeat(\n          Array.from({ length: 7 }, (_, i) => i),\n          (day) => day,\n          (day) => {\n            return html`<li\n              >${new Intl.DateTimeFormat('en-US', {\n                weekday: 'short',\n              }).format(new Date(2018, 0, day))}\n            </li>`\n          }\n        )}\n      </ul>\n      <ol class=\"calendar grid\">\n        ${repeat(\n          Array.from(\n            {\n              length: new Date(\n                this.date.getFullYear(),\n                this.date.getMonth(),\n                1\n              ).getDay(),\n            },\n            (_, i) => i\n          ),\n          (day) => day,\n          () => {\n            return html`<li class=\"day prevmonth\"></li>`\n          }\n        )}\n        ${repeat(\n          Array.from({ length: this.numberOfDays }, (_, i) => i + 1),\n          (day) => day,\n          (day) => {\n            return html`<li class=\"day\">${day}</li>`\n          }\n        )}\n        ${repeat(\n          Array.from(\n            {\n              length:\n                7 -\n                new Date(\n                  this.date.getFullYear(),\n                  this.date.getMonth(),\n                  this.numberOfDays + 1\n                ).getDay(),\n            },\n            (_, i) => i\n          ),\n          (day) => day,\n          (day) => {\n            return html`<li class=\"day nextmonth\">${day + 1}</li>`\n          }\n        )}\n      </ol>\n\n      <slot></slot>\n    `\n  }\n\n  // private _onClick() {\n  //   this.count++\n  //   this.dispatchEvent(new CustomEvent('count-changed'))\n  // }\n\n  /**\n   * Formats a greeting\n   * @param name The name to say \"Hello\" to\n   */\n  sayHello(name: string): string {\n    return `Hello, ${name}`\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'date-picker': DatePicker\n  }\n}\n"]}