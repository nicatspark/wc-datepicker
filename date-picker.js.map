{"version":3,"file":"date-picker.js","sourceRoot":"","sources":["src/date-picker.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, css, PropertyValues } from 'lit'\nimport { customElement, property, state } from 'lit/decorators.js'\nimport './datepicker-calendar'\n\n/**\n * A Date-Picker.\n *\n * @fires selected-date-changed - Indicates when the count changes\n * @slot - This element has a slot\n */\n@customElement('date-picker')\nexport class DatePicker extends LitElement {\n  static override styles = css`\n    :host {\n      --selected-bg: rgb(15, 88, 214);\n      --selected-fg: #fff;\n      --today: #eee;\n      --today-fg: #000;\n      --other-month-fg: #999;\n      --hover-bg: #def;\n      --day-outline: #ccc;\n      --button-control-fg: #333;\n      --button-control-fg-hover: #000;\n      --weekday-fg: #999;\n      --calendar-padding: 16px;\n      position: relative;\n      display: block;\n      border: solid 1px gray;\n      padding: var(--calendar-padding);\n      max-width: 43em;\n      font-size: 0.7rem;\n      font-family: Helvetica, sans-serif;\n      box-sizing: border-box;\n      background-color: #fff;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n    }\n    .triangle {\n      display: block;\n      position: absolute;\n      top: -10px;\n      left: 50%;\n      width: 0;\n      height: 0;\n      border: 10px solid transparent;\n      border-bottom-color: #fff;\n      border-top: 0;\n      margin-left: -10px;\n    }\n    :host([hidden]) {\n      display: none !important;\n    }\n    .calendar-container {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      gap: var(--calendar-padding);\n    }\n  `\n\n  override connectedCallback() {\n    super.connectedCallback()\n    this.addEventListener('next-year', () => {\n      this.handleChangeCalendarYear('next')\n    })\n    this.addEventListener('next-month', () => {\n      this.handleChangeCalendarMonth('next')\n    })\n    this.addEventListener('prev-month', () => {\n      this.handleChangeCalendarMonth('prev')\n    })\n    this.addEventListener('prev-year', () => {\n      this.handleChangeCalendarYear('prev')\n    })\n  }\n  override disconnectedCallback() {\n    super.disconnectedCallback()\n    this.removeEventListener('next-year', () => {\n      this.handleChangeCalendarYear('next')\n    })\n    this.removeEventListener('next-month', () => {\n      this.handleChangeCalendarMonth('next')\n    })\n    this.removeEventListener('prev-month', () => {\n      this.handleChangeCalendarMonth('prev')\n    })\n    this.removeEventListener('prev-year', () => {\n      this.handleChangeCalendarYear('prev')\n    })\n  }\n\n  @property({ type: Object })\n  date = new Date()\n\n  @state()\n  datePlusOneMonth = new Date(\n    this.date.getFullYear(),\n    this.date.getMonth() + 1,\n    1\n  )\n\n  @property({ type: Boolean })\n  range = false\n\n  @property({ reflect: true })\n  locale = 'en-US'\n\n  override willUpdate(changedProperties: PropertyValues<this>) {\n    if (changedProperties.has('date')) {\n      this.datePlusOneMonth = new Date(\n        this.date.getFullYear(),\n        this.date.getMonth() + 1,\n        1\n      )\n    }\n  }\n\n  override render() {\n    return html`\n      <div class=\"calendar-container\">\n        <datepicker-calendar\n          .date=\"${this.date}\"\n          locale=\"${this.locale}\"\n          ?range=\"${this.range}\"\n        ></datepicker-calendar>\n        <datepicker-calendar\n          ?hidden=\"${!this.range}\"\n          .date=\"${this.datePlusOneMonth}\"\n          locale=\"${this.locale}\"\n          range=\"true\"\n        ></datepicker-calendar>\n      </div>\n      <slot></slot>\n      <div class=\"triangle\"></div>\n    `\n  }\n\n  private handleChangeCalendarMonth(direction: 'prev' | 'next') {\n    const dir = direction === 'prev' ? -1 : 1\n    this.date = new Date(this.date.getFullYear(), this.date.getMonth() + dir, 1)\n  }\n\n  private handleChangeCalendarYear(direction: 'prev' | 'next') {\n    const dir = direction === 'prev' ? -1 : 1\n    this.date = new Date(this.date.getFullYear() + dir, this.date.getMonth(), 1)\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'date-picker': DatePicker\n  }\n}\n"]}