{"version":3,"file":"date-picker.js","sourceRoot":"","sources":["src/date-picker.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, css, PropertyValues } from 'lit'\nimport { customElement, property, state } from 'lit/decorators.js'\nimport { repeat } from 'lit/directives/repeat.js'\n\n/**\n * A Date-Picker.\n *\n * @fires selected-date-changed - Indicates when the count changes\n * @slot - This element has a slot\n */\n@customElement('date-picker')\nexport class DatePicker extends LitElement {\n  static override styles = css`\n    :host {\n      --selected-bg: rgb(15, 88, 214);\n      --selected-fg: #fff;\n      --today: #eee;\n      --today-fg: #000;\n      --other-month-fg: #999;\n      --hover-bg: #def;\n      --day-outline: #ccc;\n      --button-control-fg: #333;\n      --button-control-fg-hover: #000;\n      --weekday-fg: #999;\n      position: relative;\n      display: block;\n      border: solid 1px gray;\n      padding: 16px;\n      max-width: 25em;\n      font-size: 0.7rem;\n      font-family: Helvetica, sans-serif;\n      box-sizing: border-box;\n      background-color: #fff;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n    }\n    .triangle {\n        display: block;\n        position: absolute;\n        top: -10px;\n        left: 50%;\n        width: 0;\n        height: 0;\n        border: 10px solid transparent;\n        border-bottom-color: #fff;\n        border-top: 0;\n        margin-left: -10px;\n      }\n    :host([hidden]) {\n      display: none !important;\n    }\n    .grid {\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n      gap: 0em;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n    }\n    .weekdays > li {\n        display: grid;\n        place-items: center;\n        margin-block: 1em 0.5em;\n        font-weight: bold;\n        color: var(--weekday-fg);\n      }\n    .calendar > li {\n        aspect-ratio: 1;\n        outline: solid 1px var(--day-outline);\n        background-color: #fff;\n        display: grid;\n        place-items: center;\n        font-size: 1.2em;\n        cursor: pointer;\n        &.today {\n          background-color: var(--today);\n          color: var(--today-fg);\n        }\n        &.selected {\n          background-color: var(--selected-bg);\n          color: var(--selected-fg);\n        }\n        &.prevmonth, &.nextmonth {\n          color: var(--other-month-fg);\n        }\n        &:not(.selected):hover {\n          background-color: var(--hover-bg);\n        }\n      }\n      .calendar-head {\n        display: grid;\n        grid-template-columns: min-content auto min-content;\n        gap: 0em;\n        padding: 0;\n        margin: 0;\n        font-size: 1.2em;\n        & .calendar-head__controls {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        & h4 {\n          text-align: center;\n          margin: 0;\n          padding: 0;\n        }\n        & button {\n          border: none;\n          background-color: transparent;\n          cursor: pointer;\n          color: var(--button-control-fg);\n          & > div {\n            width: 1em;\n            height: 1em;\n          }\n          &:hover {\n            color: var(--button-control-fg-hover);\n          }\n        }\n      }\n    }\n  `\n\n  @state()\n  numberOfDays = 0\n\n  @state()\n  numberOfDaysLastMonth = 0\n\n  @state()\n  selectedDate: Date | undefined = undefined\n\n  @property({ type: Object })\n  date = new Date()\n\n  @property({ reflect: true })\n  locale = 'en-US'\n\n  /**\n   * The number of times the button has been clicked.\n   */\n  @property({ type: Number })\n  count = 0\n\n  override willUpdate(changedProperties: PropertyValues<this>) {\n    // only need to check changed properties for an expensive computation.\n    if (changedProperties.has('date')) {\n      // calculate month with days for the app.\n      console.log('changedProperties', changedProperties)\n      this.numberOfDays = new Date(\n        this.date.getFullYear(),\n        this.date.getMonth() + 1,\n        0\n      ).getDate()\n      this.numberOfDaysLastMonth = new Date(\n        this.date.getFullYear(),\n        this.date.getMonth(),\n        0\n      ).getDate()\n    }\n  }\n\n  override render() {\n    return html`\n      <div class=\"calendar-head\">\n        <div class=\"calendar-head__controls\">\n          <button @click=\"${this.handleChangeCalendarMonth('prev')}\">\n            <div aria-hidden=\"true\" data-comp=\"icon\"\n              ><svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n                focusable=\"false\"\n                height=\"100%\"\n                width=\"100%\"\n              >\n                <path\n                  d=\"M12.69 14.161 8.564 9.995l4.124-4.167a1.077 1.077 0 0 0 0-1.514 1.051 1.051 0 0 0-1.499 0L6.31 9.243a1.077 1.077 0 0 0 0 1.514l4.88 4.929a1.051 1.051 0 0 0 1.5 0 1.1 1.1 0 0 0 0-1.525Z\"\n                ></path></svg\n            ></div>\n          </button>\n          <button @click=\"${this.handleChangeCalendarYear('prev')}\">\n            <div aria-hidden=\"true\" data-comp=\"icon\"\n              ><svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n                focusable=\"false\"\n                height=\"100%\"\n                width=\"100%\"\n              >\n                <path\n                  d=\"M9.487 4.788a.97.97 0 0 1 0 1.398l-4 3.819 4 3.82a.95.95 0 0 1 0 1.387 1.061 1.061 0 0 1-1.453 0l-4.732-4.518a.95.95 0 0 1 0-1.388l4.732-4.518a1.061 1.061 0 0 1 1.453 0Zm7.211 0a.97.97 0 0 1 0 1.398l-4 3.819 4 3.82a.95.95 0 0 1 0 1.387 1.061 1.061 0 0 1-1.453 0l-4.732-4.518a.95.95 0 0 1 0-1.388l4.732-4.518a1.061 1.061 0 0 1 1.453 0Z\"\n                ></path></svg\n            ></div>\n          </button>\n        </div>\n        <h4>\n          ${this.date.toLocaleString(this.locale, { month: 'long' })}\n          ${this.date.getFullYear()}\n        </h4>\n        <div class=\"calendar-head__controls\">\n          <button @click=\"${this.handleChangeCalendarYear('next')}\">\n            <div aria-hidden=\"true\" data-comp=\"icon\"\n              ><svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n                focusable=\"false\"\n                height=\"100%\"\n                width=\"100%\"\n              >\n                <path\n                  d=\"m11.966 4.788 4.732 4.518a.95.95 0 0 1 0 1.388l-4.732 4.518a1.061 1.061 0 0 1-1.453 0 .97.97 0 0 1 0-1.398l4-3.819-4-3.82a.95.95 0 0 1 0-1.387 1.061 1.061 0 0 1 1.453 0Zm-7.21 0 4.731 4.518a.95.95 0 0 1 0 1.388l-4.732 4.518a1.061 1.061 0 0 1-1.453 0 .97.97 0 0 1 0-1.398l4-3.819-4-3.82a.95.95 0 0 1 0-1.387 1.061 1.061 0 0 1 1.453 0Z\"\n                ></path></svg\n            ></div>\n          </button>\n          <button @click=\"${this.handleChangeCalendarMonth('next')}\">\n            <div aria-hidden=\"true\" data-comp=\"icon\"\n              ><svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n                focusable=\"false\"\n                height=\"100%\"\n                width=\"100%\"\n              >\n                <path\n                  d=\"m7.31 5.839 4.125 4.166-4.124 4.167a1.077 1.077 0 0 0 0 1.514 1.051 1.051 0 0 0 1.499 0l4.88-4.929a1.077 1.077 0 0 0 0-1.514L8.81 4.314a1.051 1.051 0 0 0-1.5 0 1.1 1.1 0 0 0 0 1.525Z\"\n                ></path></svg\n            ></div>\n          </button>\n        </div>\n      </div>\n      <!--p\n        >Days in\n        ${this.date.toLocaleString(this.locale, {\n        month: 'long',\n      })}:\n        ${this.numberOfDays}<br />\n        Previous month had: ${this.numberOfDaysLastMonth} <br />First of the\n        month occurs on a:\n        ${new Date(\n        this.date.getFullYear(),\n        this.date.getMonth(),\n        1\n      ).toLocaleString(this.locale, {\n        weekday: 'long',\n      })}\n        = ${this.calendarMonthStartsOn()}\n        <br />\n        Selected date:\n        <b>\n          ${this.selectedDate\n        ? this.selectedDate?.toLocaleString(this.locale, {\n            month: 'long',\n            day: 'numeric',\n            year: 'numeric',\n          })\n        : 'none'}</b\n        >\n      </p -->\n\n      <!-- weekdays -->\n      <ul class=\"weekdays grid\">\n        ${repeat(\n          Array.from({ length: 7 }, (_, i) => i),\n          (day) => day,\n          (day) => {\n            return html`<li\n              >${new Intl.DateTimeFormat(this.locale, {\n                weekday: 'short',\n              }).format(new Date(2018, 0, day))}\n            </li>`\n          }\n        )}\n      </ul>\n\n      <!-- start of calendar -->\n      <ol class=\"calendar grid\">\n        <!-- previous month -->\n        ${this.getCalendarPreMonthDays()}\n        <!-- current days -->\n        ${repeat(\n          Array.from({ length: this.numberOfDays }, (_, i) => i + 1),\n          (day) => day,\n          (day) => {\n            return html`<li\n              class=\"day${this.selectedDate?.getTime() ===\n              new Date(\n                this.date.getFullYear(),\n                this.date.getMonth(),\n                day\n              ).getTime()\n                ? ' selected'\n                : ''}${new Date(\n                this.date.getFullYear(),\n                this.date.getMonth(),\n                day\n              ).getTime() === new Date().setHours(0, 0, 0, 0)\n                ? ' today'\n                : ''}\"\n              @click=\"${() => this.handleSelectDay(day)}\"\n              >${day}</li\n            >`\n          }\n        )}\n        <!-- next month -->\n        ${this.getCalendarRemaningDays()}\n      </ol>\n      <slot></slot>\n      <div class=\"triangle\"></div>\n    `\n  }\n\n  private handleSelectDay(day: number) {\n    this.selectedDate = new Date(\n      this.date.getFullYear(),\n      this.date.getMonth(),\n      day\n    )\n    this.dispatchEvent(\n      new CustomEvent('selected-date-changed', { detail: this.selectedDate })\n    )\n  }\n\n  private getCalendarPreMonthDays() {\n    return repeat(\n      Array.from(\n        {\n          length: this.getCalendarStartDay().getDay(),\n        },\n        (_, i) => {\n          return (\n            this.numberOfDaysLastMonth -\n            this.getCalendarStartDay().getDay() +\n            1 +\n            i\n          )\n        }\n      ),\n      (day) => day,\n      (day) => {\n        return html`<li class=\"day prevmonth\">${day}</li>`\n      }\n    )\n  }\n\n  private getCalendarRemaningDays() {\n    if ((this.numberOfDays + this.calendarMonthStartsOn()) % 7 === 0) {\n      return ''\n    }\n    return repeat(\n      Array.from(\n        {\n          length:\n            7 -\n            new Date(\n              this.date.getFullYear(),\n              this.date.getMonth(),\n              this.numberOfDays + 1\n            ).getDay(),\n        },\n        (_, i) => i\n      ),\n      (day) => day,\n      (day) => {\n        return html`<li class=\"day nextmonth\">${day + 1}</li>`\n      }\n    )\n  }\n\n  private calendarMonthStartsOn({\n    year = this.date.getFullYear(),\n    month = this.date.getMonth(),\n  } = {}) {\n    return new Date(year, month, 1).getDay()\n  }\n\n  private handleChangeCalendarMonth(direction: 'prev' | 'next') {\n    return () => {\n      const dir = direction === 'prev' ? -1 : 1\n      this.date = new Date(\n        this.date.getFullYear(),\n        this.date.getMonth() + dir,\n        1\n      )\n    }\n  }\n\n  private handleChangeCalendarYear(direction: 'prev' | 'next') {\n    return () => {\n      const dir = direction === 'prev' ? -1 : 1\n      this.date = new Date(\n        this.date.getFullYear() + dir,\n        this.date.getMonth(),\n        1\n      )\n    }\n  }\n\n  private getCalendarStartDay(date?: Date) {\n    const aDate = date ?? this.date\n    return new Date(aDate.getFullYear(), aDate.getMonth(), 1)\n    /* .toLocaleString('default', {\n      weekday: 'long',\n    }) */\n  }\n\n  // private _onClick() {\n  //   this.count++\n  //   this.dispatchEvent(new CustomEvent('count-changed'))\n  // }\n\n  /**\n   * Formats a greeting\n   * @param name The name to say \"Hello\" to\n   */\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'date-picker': DatePicker\n  }\n}\n"]}